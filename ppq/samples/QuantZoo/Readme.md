# ONNX Quantization Model Zoo (OnnxQuant)

:smile: OnnxQuant æ˜¯ç›®å‰æœ€å¤§çš„æ¨¡å‹é‡åŒ–æ•°æ®é›†ï¼Œå®ƒåŒ…å« ONNX æ¨¡å‹ï¼Œæ•°æ®ï¼Œä»¥åŠç›¸å…³çš„æµ‹è¯•è„šæœ¬ã€‚è¯¥æ•°æ®é›†çš„æå‡ºç”¨äºæ¨åŠ¨æ¨¡å‹é‡åŒ–åœ¨è§†è§‰æ¨¡å‹ä¸­çš„åº”ç”¨ä¸é‡åŒ–ç®—æ³•çš„ç ”ç©¶ï¼Œå…·å¤‡ä»¥ä¸‹ç‰¹ç‚¹ï¼š

1. å¯ç§»æ¤ä¸å¯å¤ç°ï¼Œæ‰€æœ‰æ¨¡å‹å‡ç”± ONNX æ ¼å¼æä¾›ã€‚
2. åŒ…å«å›¾åƒåˆ†ç±»ã€å›¾åƒåˆ†å‰²ã€å›¾åƒè¶…åˆ†è¾¨ç‡ã€å›¾åƒ-æ–‡å­—è¯†åˆ«ã€ç›®æ ‡æ£€æµ‹ã€å§¿æ€æ£€æµ‹ç­‰å¤šä¸ªä»»åŠ¡çš„æ¨¡å‹ã€‚
3. æä¾›åˆ‡åˆ†å¥½çš„ calibration æ•°æ®å’Œ test æ•°æ®ï¼Œæä¾›æ¨¡å‹ç²¾åº¦æµ‹è¯•è„šæœ¬ã€‚
4. æä¾›çµæ´»çš„é‡åŒ–å™¨ç”¨äºç¡®å®šæ¨¡å‹åœ¨ä¸åŒé‡åŒ–è§„åˆ™ä¸‹çš„ç†è®ºæ€§èƒ½ï¼Œå¹¶æä¾› FP8 é‡åŒ–å™¨ã€‚

:eyes: OnnxQuant ç›®å‰å¤„äºå…¬å¼€æµ‹è¯•é˜¶æ®µï¼Œè¿‘å‡ ä¸ªæœˆå†…ä»ç„¶å°†å‘ç”Ÿä¿®æ”¹ä¸å˜åŠ¨ã€‚

## 1. å¦‚ä½•ä½¿ç”¨

### 1.1 ä¸‹è½½æ•°æ®é›†ï¼š

1. å›¾åƒåˆ†ç±»: https://pan.baidu.com/s/1CIrQBvMkPaI-19M8IpVP8w?pwd=z5z8
2. å›¾åƒè¶…åˆ†: https://pan.baidu.com/s/1u7ZAVNtlaMHBzDzzq-1eCw?pwd=gzsb
3. å›¾åƒåˆ†å‰²: https://pan.baidu.com/s/1LAS8LYyklz7kgkVUuxDlLg?pwd=db6s
4. ç›®æ ‡æ£€æµ‹: https://pan.baidu.com/s/1uBvK-Wm1AKVrNgvA9E4lhA?pwd=9n06
5. å§¿æ€æ£€æµ‹: 
6. å›¾åƒ-æ–‡å­—è¯†åˆ«: https://pan.baidu.com/s/1GyYvLbhibLL6kPIA1J0X7Q?pwd=vpxi
7. NLP:

### 1.2 å»ºç«‹å·¥ä½œç›®å½•ï¼š

åœ¨å·¥ä½œç›®å½•ä¸‹å»ºç«‹æ–‡ä»¶å¤¹ QuantZooï¼Œè§£å‹ä¸Šè¿°æ–‡ä»¶åˆ° QuantZoo ä¸­ã€‚ä½ å°†è·å¾—è¿™æ ·çš„æ–‡ä»¶å¤¹ç»“æ„

```
~/QuantZoo/Data/Cityscapes
~/QuantZoo/Data/Coco
~/QuantZoo/Data/DIV2K
~/QuantZoo/Data/IC15
~/QuantZoo/Model/Imagenet
~/QuantZoo/Model/mmedit
~/QuantZoo/Model/mmseg
~/QuantZoo/Model/ocr
~/QuantZoo/Quantizers.py
~/QuantZoo/Util.py
```

### 1.3 åˆ›å»ºå…¥å£æ–‡ä»¶

å°† https://github.com/openppl-public/ppq/tree/master/ppq/samples/QuantZoo ç›®å½•ä¸‹çš„æ–‡ä»¶å¤åˆ¶åˆ°å·¥ä½œç›®å½•ä¸‹

```
~/QuantZoo_Imagenet.py
~/QuantZoo_OCR.py
~/QuantZoo_Yolo.py
~/QuantZoo_SuperRes.py
~/QuantZoo_Segmentation.py
~/QuantZoo
```

è¿è¡Œå·¥ä½œç›®å½•ä¸­çš„ python æ–‡ä»¶å³å¯å®Œæˆ OnnxQuant æµ‹è¯•ã€‚

## 2. ç¯å¢ƒä¾èµ–

1. ä¸‹è½½é‡åŒ–å·¥å…· ppq 0.6.6 ä»¥ä¸Šç‰ˆæœ¬ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ pypi è¿›è¡Œå®‰è£…

``` bash
pip install ppq
```

äº¦å¯ä»¥ä½¿ç”¨ github ä¸Šçš„æœ€æ–°ç‰ˆæœ¬è¿›è¡Œå®‰è£…

``` bash
git clone https://github.com/openppl-public/ppq.git
cd ppq
pip install -r requirements.txt
python setup.py install
```

2. ä¸‹è½½å¹¶å®‰è£…æ‰€éœ€çš„å…¶ä»–ä¾èµ–åº“

  * numpy
  * onnx >= 1.9.0
  * protobuf
  * torch >= 1.6.0
  * tqdm
  * mmcv-full
  * cityscapesscripts
  * pycocotools

3. å®‰è£…ç¼–è¯‘ç¯å¢ƒ(å¯¹äº FP8 é‡åŒ–è€Œè¨€ï¼Œè¯¥ç¯å¢ƒæ˜¯å¿…é¡»çš„)

``` bash
apt-get install ninja-build
```

## 3. æ•°æ®é›†ä¸æ¨¡å‹ç®€ä»‹

åœ¨ OnnxQuant ä¸­çš„æ‰€æœ‰æ¨¡å‹å·²ç»é¢„å…ˆå®Œæˆäº† Batchnorm å±‚çš„åˆå¹¶ï¼Œå¹¶ä¸”æ¨¡å‹å·²ç»å®Œæˆè®­ç»ƒè¿‡ç¨‹ã€‚

### 3.1 å›¾åƒåˆ†ç±»

æ•°æ®é›†ï¼šImagenet

æ•°æ®åˆ‡åˆ†æ–¹å¼ï¼š
  * Calibration æ•°æ®ä¸º Imagenet Validation Set ä¸­éšæœºæŠ½å–çš„ 5000 å¼ å›¾ç‰‡ã€‚
  * Test æ•°æ®ä¸º Imagenet Validation Set ä¸­éšæœºæŠ½å–çš„ 5000 å¼ å›¾ç‰‡ã€‚
  * æä¾›æ•°æ®åˆ‡åˆ†è„šæœ¬ã€‚

æ¨¡å‹ efficientnet, mnasnet, mobilenetv2, mobilenetv3, resnet18, resnet50, vit æ¥è‡ª torchvision.

æ¨¡å‹ once_for_all: https://github.com/mit-han-lab/once-for-all

æ¨¡å‹æµ‹è¯•æ ‡å‡†ï¼šåˆ†ç±»å‡†ç¡®ç‡ã€‚

### 3.2 å®ä¾‹åˆ†å‰²

æ•°æ®é›†ï¼šcityscapes

æ•°æ®åˆ‡åˆ†æ–¹å¼ï¼š
  * Calibration æ•°æ®ä¸º Cityscapes val ä¸­éšæœºæŠ½å–çš„ 300 å¼ å›¾ç‰‡ã€‚
  * Test æ•°æ®ä¸º Cityscapes val ä¸­éšæœºæŠ½å–çš„ 200 å¼ å›¾ç‰‡ã€‚
  * æä¾›æ•°æ®åˆ‡åˆ†è„šæœ¬ã€‚

æ¨¡å‹ï¼šå…¨éƒ¨æ¥è‡ª mmedit

æ¨¡å‹æµ‹è¯•æ ‡å‡†ï¼šMiouã€‚

### 3.3 ç›®æ ‡æ£€æµ‹

æ•°æ®é›†: Coco 2017

æ•°æ®åˆ‡åˆ†æ–¹å¼ï¼š

  * Calibration æ•°æ®ä¸º  Coco 2017 Validation Set ä¸­éšæœºæŠ½å–çš„ 1500 å¼ å›¾ç‰‡ã€‚
  * Test æ•°æ®ä¸º Coco 2017 Validation Set ä¸­éšæœºæŠ½å–çš„ 300 å¼ å›¾ç‰‡ã€‚
  * æä¾›æ•°æ®åˆ‡åˆ†è„šæœ¬ã€‚

æ¨¡å‹ï¼šå…¨éƒ¨æ¥è‡ª mmyolo

æ¨¡å‹æµ‹è¯•æ ‡å‡†ï¼šç›®æ ‡æ£€æµ‹ç²¾å‡†åº¦(mAP)ã€‚

### 3.4 OCR

æ•°æ®é›†ï¼šIC15

æ•°æ®åˆ‡åˆ†æ–¹å¼ï¼š

  * Calibration æ•°æ®ä¸º IC15 train æ•°æ®é›†ã€‚
  * Test æ•°æ®ä¸º IC15 test æ•°æ®é›†ã€‚

æ¨¡å‹ï¼šå…¨éƒ¨æ¥è‡ª paddle ocr

æ¨¡å‹æµ‹è¯•æ ‡å‡†ï¼šæ–‡å­—è¯†åˆ«å‡†ç¡®ç‡ã€‚

### 3.5 å›¾åƒè¶…åˆ†è¾¨ç‡

æ•°æ®é›†ï¼šDIV2K

æ•°æ®åˆ‡åˆ†æ–¹å¼ï¼š

  * Calibration æ•°æ®ä¸º DIV2K_train æ•°æ®é›†ã€‚
  * Test æ•°æ®ä¸º DIV2K_valid æ•°æ®é›†ã€‚é™é‡‡æ ·æ–¹å¼ä¸º x4, bicubicã€‚

æ¨¡å‹ï¼šå…¨éƒ¨æ¥è‡ª mmedit

æ¨¡å‹æµ‹è¯•æ ‡å‡†ï¼šå³°å€¼ä¿¡å™ªæ¯”ã€‚

## 4. OnnxQuant æ¨¡å‹é‡åŒ–è§„åˆ™

### 4.1 ç»¼è¿°ï¼š
åœ¨ OnnxQuant ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›è¯„ä¼°æ¨¡å‹é‡åŒ–çš„ç†è®ºæ€§èƒ½ï¼ŒåŒæ—¶éš”ç¦»æ¨é‡æ¡†æ¶çš„å…·ä½“æ‰§è¡Œç»†èŠ‚ã€‚

æˆ‘ä»¬è¦æ±‚é‡åŒ–æ‰€æœ‰çš„ **å·ç§¯ä¸å…¨è¿æ¥å±‚**ï¼Œå¹¶ä¸”åªå¯¹ä¸Šè¿°å±‚çš„ **è¾“å…¥å˜é‡å’Œæƒé‡** æ·»åŠ é‡åŒ–-åé‡åŒ–æ“ä½œï¼Œå…¶ **åç½®é¡¹(Bias)ä¸è¾“å‡ºå˜é‡** ä¾ç„¶ä¿ç•™ä¸ºæµ®ç‚¹ç²¾åº¦ã€‚
è¿™ä¸€è§„åˆ™èƒ½å¤Ÿæ€»ä½“ä¸Šæ¨¡æ‹Ÿæ¨ç†æ¡†æ¶çš„å›¾èåˆæƒ…å†µï¼Œç®€åŒ–é‡åŒ–è¿‡ç¨‹å¹¶æå‡è®¡ç®—æ•ˆç‡ï¼Œå¹¶å¯è·å¾—è¾ƒä¸ºå‡†ç¡®çš„æ¨¡å‹é‡åŒ–æ€§èƒ½ã€‚

å¯¹äº Transformer Based æ¨¡å‹ï¼ŒOnnxQuant å°†åœ¨ Layernormalization å±‚çš„è¾“å…¥å˜é‡ä¸Šæ·»åŠ é‡åŒ–-åé‡åŒ–æ“ä½œï¼Œå…¶æƒé‡ä¸å‚ä¸é‡åŒ–ã€‚

### 4.2 é‡åŒ–ç»†åˆ™
OnnxQuant å…³æ³¨ä»¥ä¸‹ä¸‰ç±»é‡åŒ–ç»†åˆ™ä¸‹çš„æ¨¡å‹æ€§èƒ½ï¼š
| INT8 PERCHANNEL | INT8 PERTENSOR POWER-OF-2 | GRAPHCORE FP8 |
|:---|:---|:---|
| æƒé‡ä½¿ç”¨ PERCHANNEL é‡åŒ– | æƒé‡ä½¿ç”¨ PERTENSOR é‡åŒ–ï¼ŒScale é™„åŠ  POWER-OF-2 é™åˆ¶ | æƒé‡ä½¿ç”¨ PERTENSOR FP8 é‡åŒ– |
| æ¿€æ´»å€¼ä½¿ç”¨ PERTENSOR é‡åŒ– | æ¿€æ´»å€¼ä½¿ç”¨ PERTENSOR é‡åŒ–ï¼ŒScale é™„åŠ  POWER-OF-2 é™åˆ¶ |  æ¿€æ´»å€¼ä½¿ç”¨ PERTENSOR FP8 é‡åŒ– | 
| é‡åŒ–èŒƒå›´ä¸º[-128, 127] | é‡åŒ–èŒƒå›´ä¸º[-128, 127] |  é‡åŒ–èŒƒå›´ä¸º[-448.0, 448.0] | 

## 5. OnnxQuant Baseline

åœ¨å‰æ–‡ä¸­ï¼Œæˆ‘ä»¬å·²ç»ä»‹ç»äº†ä¸åŒæ¨¡å‹çš„æµ‹è¯•æ ‡å‡†ï¼ŒOnnxQuant å°†ä»¥æ­¤ä¸ºæ ‡å‡†æµ‹è¯•é‡åŒ–æ¨¡å‹åœ¨æµ‹è¯•æ•°æ®é›†ä¸Šçš„åˆ†ç±» / æ£€æµ‹ / è¶…åˆ†è¾¨ç‡ / æ–‡å­—è¯†åˆ« / å®ä¾‹åˆ†å‰²çš„æ€§èƒ½ã€‚

é™¤æ­¤ä»¥å¤–ï¼ŒOnnxQuant é¢å¤–å¼•å…¥ä¸‰é¡¹é€šç”¨æŒ‡æ ‡å¯¹æ¨¡å‹é‡åŒ–ç»“æœè¿›è¡Œè¯„ä¼°ï¼š

  * Average Quantization Error(AQE): æ¨¡å‹å¹³å‡é‡åŒ–è¯¯å·®

  * Max Quantization Error(MQE): æ¨¡å‹æœ€å¤§é‡åŒ–è¯¯å·®

  * Output Quantization Error(OQE): æ¨¡å‹è¾“å‡ºæœ€å¤§é‡åŒ–è¯¯å·®

OnnxQuant ä½¿ç”¨ç›¸å¯¹è¯¯å·®è¯„ä¼°æ¨¡å‹é‡åŒ–è¯¯å·®ï¼Œå¯¹äºé‡åŒ–ç½‘ç»œä¸­çš„ä»»æ„ä¸€ä¸ªå·ç§¯å±‚ã€å…¨è¿æ¥å±‚ã€Layernormalization å±‚è€Œè¨€ï¼ŒOnnxQuant å–è¯¥å±‚çš„è¾“å‡ºç»“æœ A ä¸æµ®ç‚¹ç½‘ç»œå¯¹åº”å±‚çš„è¾“å‡ºç»“æœ B è¿›è¡Œå¯¹æ¯”ã€‚
ç›¸å¯¹è¯¯å·®ç­‰äº || A - B || / || B ||ï¼Œå…¶ä¸­ || B || è¡¨ç¤ºå‘é‡ B çš„ F-èŒƒæ•°ã€‚

  * æ¨¡å‹å¹³å‡é‡åŒ–è¯¯å·®(AQE)ï¼šæ¨¡å‹ä¸­æ‰€æœ‰å±‚çš„é‡åŒ–è¯¯å·®å‡å€¼

  * æ¨¡å‹æœ€å¤§é‡åŒ–è¯¯å·®(MQE)ï¼šæ¨¡å‹ä¸­æ‰€æœ‰å±‚çš„é‡åŒ–è¯¯å·®æœ€å¤§å€¼

  * æ¨¡å‹è¾“å‡ºæœ€å¤§é‡åŒ–è¯¯å·®(OQE)ï¼šæ¨¡å‹ä¸­æ‰€æœ‰è¾“å‡ºå±‚çš„é‡åŒ–è¯¯å·®æœ€å¤§å€¼

å›¾ä¾‹ï¼šâ—: é‡åŒ–ç²¾åº¦å¾ˆå·®çš„æ¨¡å‹ï¼›ğŸ’”: å¾ˆå·®çš„å•ä¸€æŒ‡æ ‡

### INT8 PERCHANNEL

| Classification     | Float Accuracy | Quant Accuracy | AQE    | MQE     | OQE     |
| ------------------ | ----------- | -------------- | ------ | ------- | ------- |
| â—efficientnet_v1_b0 | 76.90%      | 66.19%         | 20.81%ğŸ’” | 60.34%ğŸ’” | 70.51%ğŸ’”  |
| efficientnet_v1_b1 | 76.66%      | 75.64%         | 4.16%  | 20.23%ğŸ’”  | 15.50%ğŸ’”  |
| efficientnet_v2    | 80.29%      | 80.03%         | 6.52%  | 44.53%ğŸ’”  | 41.45%ğŸ’”  |
| â—mnasnet 0.5        | 67.75%      | 64.42%         | 5.40%  | 15.51%ğŸ’”  | 24.88%ğŸ’”  |
| mnasnet 1.0        | 73.48%      | 72.54%         | 2.29%  | 5.51%   | 5.71%   |
| mobilenet_v2       | 71.37%      | 70.99%         | 4.75%  | 21.13%ğŸ’”  | 6.02%   |
| â—mobilenet_v3_small | 67.89%      | 2.80%          | 55.57%ğŸ’” | 123.36%ğŸ’” | 131.26%ğŸ’” |
| mobilenet_v3_large | 73.37%      | 72.48%         | 2.17%  | 7.10%   | 5.57%   |
| resnet18           | 69.65%      | 69.51%         | 0.55%  | 1.48%   | 1.17%   |
| resnet50           | 75.56%      | 75.48%         | 1.24%  | 3.60%   | 1.95%   |
| once_for_all_71    | 72.30%      | 71.75%         | 4.11%  | 33.14%ğŸ’”  | 7.88%   |
| once_for_all_73    | 74.54%      | 74.38%         | 3.49%  | 32.25%ğŸ’”  | 5.51%   |
| â—vit_b_16           | 80.00%      | 77.90%         | \*     | \*      | \*      |

| Segmentation                                 | Float mIou | Quant mIou | AQE   | MQE    | OQE   |
| -------------------------------------------- | ------- | ---------- | ----- | ------ | ----- |
| stdc1_512x1024_80k_cityscapes                | 71.44%  | 71.21%     | 1.31% | 2.88%  | 0.66% |
| pspnet_r50-d8_512x1024_40k_cityscapes        | 76.48%  | 76.34%     | 1.77% | 4.77%  | 1.40% |
| pointrend_r50_512x1024_80k_cityscapes        | 75.66%  | 75.99%     | \*    | \*     | \*    |
| fpn_r50_512x1024_80k_cityscapes              | 73.86%  | 75.20%     | 1.73% | 5.62%  | 0.61% |
| icnet_r18-d8_832x832_80k_cityscapes          | 67.07%  | 66.72%     | 0.61% | 1.27%  | 0.31% |
| fcn_unet_s5-d16_4x4_512x1024_160k_cityscapes | 68.34%  | 68.17%     | 1.26% | 2.92%  | 0.54% |
| â—fast_scnn_lr0.12_8x4_160k_cityscapes         | 70.22%  | 69.38%     | 3.71% | 10.19%ğŸ’” | 0.75% |
| fcn_r50-d8_512x1024_40k_cityscapes           | 70.96%  | 73.67%     | 2.12% | 7.81%ğŸ’”  | 2.14% |
| bisenetv2_fcn_4x4_1024x1024_160k_cityscapes  | 71.67%  | 71.91%     | 1.28% | 5.80%  | 0.92% |
| deeplabv3_r50-d8_512x1024_40k_cityscapes     | 77.90%  | 77.48%     | 1.97% | 7.95%ğŸ’”  | 1.17% |

| SuperRes | Float PSNR | Quant PSNR | AQE   | MQE    | OQE   |
| -------- | ------- | ---------- | ----- | ------ | ----- |
| edsr     | 28.98   | 28.76      | 0.15% | 0.36%  | 0.06% |
| rdn      | 29.20   | 28.65      | 7.99%ğŸ’” | 19.94%ğŸ’” | 0.30% |
| srcnn    | 27.76   | 27.18      | 4.89% | 29.80%ğŸ’” | 0.13% |
| srgan    | 26.56   | 26.53      | 2.56% | 6.16%  | 0.10% |

| OCR                             | Float Accuracy | Quant Accuracy | AQE     | MQE     | OQE    |
| ------------------------------- | ----------- | -------------- | ------- | ------- | ------ |
| â—en_PP-OCRv3_rec_infer           | 67.36%      | 40.64%         | 24.41%ğŸ’”  | 64.69%ğŸ’”  | 22.11%ğŸ’” |
| â—en_number_mobile_v2.0_rec_infer | 46.22%      | 21.47%         | 81.85%ğŸ’”  | 398.62%ğŸ’” | 6.48%ğŸ’”  |
| â—ch_PP-OCRv2_rec_infer           | 54.89%      | 4.91%          | 114.55%ğŸ’” | 985.66%ğŸ’” | 99.83%ğŸ’” |
| â—ch_PP-OCRv3_rec_infer           | 62.69%      | 0.63%          | 116.20%ğŸ’” | 516.44%ğŸ’” | 72.43%ğŸ’” |
| â—ch_ppocr_mobile_v2.0_rec_infer  | 40.15%      | 10.39%         | 97.96%ğŸ’”  | 523.46%ğŸ’” | 41.99%ğŸ’” |
| ch_ppocr_server_v2.0_rec_infer  | 54.98%      | 53.92%         | 3.30%   | 14.72%ğŸ’”  | 8.95%  |

| Detection     | Float mAP | Quant mAP | AQE   | MQE    | OQE   |
| ------------- | ------ | --------- | ----- | ------ | ----- |
| yolov6p5_n    | 49.80% | 47.10%    | 2.40% | 13.36%ğŸ’” | 1.46% |
| yolov6p5_t    | 52.40% | 50.60%    | 6.00% | 17.56%ğŸ’” | 3.40% |
| â—yolov5s6_n    | 39.80% | 35.60%    | 1.20% | 2.60%  | 0.29% |
| â—yolov5s6_s    | 47.90% | 42.40%    | 1.29% | 3.05%  | 0.20% |
| â—yolov7p5_tiny | 46.60% | 41.50%    | 1.63% | 3.60%  | 3.03% |
| â—yolov7p5_l    | 59.50% | 51.20%    | 1.29% | 2.54%  | 2.68% |
| â—yolox_s       | 49.30% | 43.00%    | 4.64% | 12.61%ğŸ’” | 3.96% |
| â—yolox_tiny    | 45.00% | 39.10%    | 1.35% | 3.12%  | 0.90% |
| ppyoloe_m     | 55.80% | 54.60%    | 2.69% | 8.10%  | 0.87% |
| ppyoloe_s     | 50.30% | 49.00%    | 1.55% | 3.97%  | 0.77% |

### INT8 PERTENSOR POWER-OF-2

| Classification     | Float Accuracy | Quant Accuracy | AQE      | MQE        | OQE     |
| ------------------ | ----------- | -------------- | -------- | ---------- | ------- |
| â—efficientnet_v1_b0 | 76.90%      | 0.06%          | 20609%ğŸ’”   | 746505%ğŸ’”    | 12887%ğŸ’”  |
| â—efficientnet_v1_b1 | 76.66%      | 0.46%          | 279.77%ğŸ’”  | 5344.33%ğŸ’”   | 138.59%ğŸ’” |
| efficientnet_v2    | 80.29%      | 78.83%         | 10.39%   | 56.11%ğŸ’”     | 24.38%ğŸ’”  |
| â—mnasnet 0.5        | 67.75%      | 0.08%          | 524.41%ğŸ’”  | 5873.77%ğŸ’”   | 255.34%ğŸ’” |
| â—mnasnet 1.0        | 73.48%      | 67.37%         | 12.74%ğŸ’”   | 27.71%ğŸ’”     | 30.01%ğŸ’”  |
| â—mobilenet_v2       | 71.37%      | 62.30%         | 16.56%ğŸ’”   | 44.13%ğŸ’”     | 37.90%ğŸ’”  |
| â—mobilenet_v3_small | 67.89%      | 0.14%          | 3537.28% | 183137.50%ğŸ’” | 173.55%ğŸ’” |
| â—mobilenet_v3_large | 73.37%      | 68.53%         | 7.96%    | 21.39%ğŸ’”     | 24.24%ğŸ’”  |
| resnet18           | 69.65%      | 68.45%         | 1.98%    | 5.39%      | 4.20%   |
| resnet50           | 75.56%      | 75.18%         | 3.19%    | 11.04%     | 5.06%   |
| â—once_for_all_71    | 72.30%      | 0.24%          | 324.85%ğŸ’” | 1351.20%ğŸ’”   | 248.77%ğŸ’” |
| â—once_for_all_73    | 74.54%      | 0.48%          | 352.27%ğŸ’”  | 1570.90%ğŸ’”   | 218.98%ğŸ’” |

| Segmentation                                 | Float mIou | Quant mIou | AQE    | MQE    | OQE   |
| -------------------------------------------- | ------- | ---------- | ------ | ------ | ----- |
| stdc1_512x1024_80k_cityscapes                | 71.44%  | 71.36%     | 2.45%  | 5.56%  | 1.36% |
| pspnet_r50-d8_512x1024_40k_cityscapes        | 76.48%  | 76.02%     | 3.75%  | 6.76%  | 3.04% |
| pointrend_r50_512x1024_80k_cityscapes        | 75.66%  | 75.79%     | \*     | \*     | \*    |
| fpn_r50_512x1024_80k_cityscapes              | 73.86%  | 74.06%     | 5.29%  | 15.85%ğŸ’” | 2.53% |
| icnet_r18-d8_832x832_80k_cityscapes          | 67.07%  | 67.02%     | 0.97%  | 2.21%  | 0.51% |
| fcn_unet_s5-d16_4x4_512x1024_160k_cityscapes | 68.34%  | 67.30%     | 3.23%  | 7.67%  | 4.70% |
| â—fast_scnn_lr0.12_8x4_160k_cityscapes         | 70.22%  | 68.33%     | 10.04%ğŸ’” | 24.91%ğŸ’” | 2.03% |
| fcn_r50-d8_512x1024_40k_cityscapes           | 70.96%  | 73.10%     | 4.55%  | 15.92%ğŸ’” | 4.18% |
| bisenetv2_fcn_4x4_1024x1024_160k_cityscapes  | 71.67%  | 71.39%     | 4.21%  | 44.38%ğŸ’” | 2.76% |
| deeplabv3_r50-d8_512x1024_40k_cityscapes     | 77.90%  | 77.92%     | 4.14%  | 9.54%  | 2.74% |

| SuperRes | Float PSNR | Quant PSNR | AQE   | MQE    | OQE   |
| -------- | ------- | ---------- | ----- | ------ | ----- |
| edsr     | 28.98   | 28.83      | 4.40% | 12.12%ğŸ’” | 0.06% |
| rdn      | 29.20   | 28.83      | 3.91% | 26.16%ğŸ’” | 0.07% |
| â—srcnn    | 27.76   | 22.21      | 6.38% | 16.31%ğŸ’” | 1.67% |
| srgan    | 26.56   | 26.25      | 9.19% | 23.23%ğŸ’” | 0.33% |

| OCR                             | Float Accuracy | Quant Accuracy | AQE        | MQE         | OQE     |
| ------------------------------- | ----------- | -------------- | ---------- | ----------- | ------- |
| â—en_PP-OCRv3_rec_infer           | 67.36%      | 0.00%          | 123.00%ğŸ’”    | 813.22%ğŸ’”     | 92.18%ğŸ’”  |
| â—en_number_mobile_v2.0_rec_infer | 46.22%      | 3.42%          | 141.80%ğŸ’”    | 566.63%ğŸ’”     | 9.33%   |
| â—ch_PP-OCRv2_rec_infer           | 54.89%      | 0.00%          | 211218.00%ğŸ’” | 5565940.00%ğŸ’” | 430.37%ğŸ’” |
| â—ch_PP-OCRv3_rec_infer           | 62.69%      | 0.00%          | 430.96%ğŸ’”    | 5892.44%ğŸ’”    | 218.08%ğŸ’” |
| â—ch_ppocr_mobile_v2.0_rec_infer  | 40.15%      | 0.00%          | 364.47%ğŸ’”   | 5660.18%ğŸ’”    | 54.53%ğŸ’”  |
| ch_ppocr_server_v2.0_rec_infer  | 54.98%      | 54.41%         | 3.84%      | 13.75%ğŸ’”      | 5.47%   |

| Detection     | Float mAP | Quant mAP | AQE    | MQE     | OQE    |
| ------------- | ------ | --------- | ------ | ------- | ------ |
| â—yolov6p5_n    | 49.80% | 42.70%    | 19.20%ğŸ’” | 111.97%ğŸ’” | 9.81%  |
| â—yolov6p5_t    | 52.40% | 20.40%    | 54.68%ğŸ’” | 153.04%ğŸ’” | 34.37%ğŸ’” |
| â—yolov5s6_n    | 39.80% | 32.10%    | 4.56%  | 11.63%ğŸ’”  | 1.16%  |
| â—yolov5s6_s    | 47.90% | 38.10%    | 4.73%  | 9.80%   | 0.80%  |
| â—yolov7p5_tiny | 46.60% | 37.50%    | 7.02%  | 14.71%  | 10.45%ğŸ’” |
| â—yolov7p5_l    | 59.50% | 39.70%    | 7.72%  | 20.07%ğŸ’”  | 12.56%ğŸ’” |
| â—yolox_s       | 49.30% | 37.40%    | 15.44%ğŸ’” | 35.91%ğŸ’”  | 12.00%ğŸ’” |
| â—yolox_tiny    | 45.00% | 34.70%    | 4.27%  | 11.52%  | 3.66%  |
| â—ppyoloe_m     | 55.80% | 51.20%    | 14.31%ğŸ’” | 35.48%ğŸ’”  | 4.74%  |
| â—ppyoloe_s     | 50.30% | 45.50%    | 14.69%ğŸ’” | 36.28%ğŸ’” | 6.52%  |

## 6 Contribution

æ‚¨å¯ä»¥åœ¨ github ä¸Šæäº¤ issue æ¥åé¦ˆè¿è¡Œè¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ã€‚

æ‚¨å¯ä»¥é€šè¿‡å¾®ä¿¡ç¾¤ï¼Œqqç¾¤ï¼Œgithubç­‰æ¸ é“è”ç³»æˆ‘ä»¬æäº¤æ–°çš„æ¨¡å‹ä¸æµ‹è¯•æ•°æ®åŠ å…¥ OnnxQuant æµ‹è¯•é›†åˆ

## Licence

This project is distributed under the Apache License, Version 2.0.
